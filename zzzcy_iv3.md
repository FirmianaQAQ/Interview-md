
## https://juejin.im/post/5e53cf886fb9a07c91101642

## ts

- never 和 void 的区别

```
void 表示没有任何类型（可以被赋值为 null 和 undefined）。
never 表示一个不包含值的类型，即表示永远不存在的值。
拥有 void 返回值类型的函数能正常运行。拥有 never 返回值类型的函数无法正常返回，无法终止，或会抛出异常。
```

## koa 
- koa的路由功能，是如何实现的
```
用的koa-router，koa 的中间件 ，运用洋葱路由模型 添加的koa-router。koa-router内部通过判断 url是否匹配，来对相应接口返回相应内容
```

- 中间件的实现原理，也就是洋葱模型的实现原理
```
核心在于next的实现。next需要依次调用下一个middleware，当到最后一个的时候结束，这样后面middleware的promise先resolve，然后直到第一个，这样的流程也就是洋葱模型的流程了。

我们通过 use 注册中间件，中间件函数有两个参数第一个是上下文，第二个是 next，在中间件函数执行过程中，若遇到 next() ，那么就会进入到下一个中间件中执行，下一个中间执行完成后，在返回上一个中间件执行 next() 后面的方法，这便是中间件的执行逻辑。

```


## nginx
- Nginx怎么处理请求的

```
nginx接收一个请求后，首先由listen和server_name指令匹配server模块，再匹配server模块里的location，location就是实际地址
```

- 如何用Nginx解决前端跨域问题
```
使用Nginx转发请求。把跨域的接口写成调本域的接口，然后将这些接口转发到真正的请求地址。
```

- 什么是正向代理和反向代理
```
  正向代理就是一个人发送一个请求直接就到达了目标的服务器
  反向代理就是请求统一被Nginx接收，nginx反向代理服务器接收到之后，按照一定的规 则分发给了后端的业务处理服务器进行处理了
```
- 反向代理服务器的优点是什么
```
反向代理服务器可以隐藏源服务器的存在和特征。它充当互联网云和web服务器之间的中间层。这对于安全方面来说是很好的，特别是当您使用web托管服务时。
```
- Nginx的优缺点
```
优点：
占内存小，可实现高并发连接，处理响应快
可实现http服务器、虚拟主机、方向代理、负载均衡
Nginx配置简单
可以不暴露正式的服务器IP地址

缺点：
动态处理差：nginx处理静态文件好,耗费内存少，但是处理动态页面则很鸡肋，现在一般前端用nginx作为反向代理抗住压力，

```
- Nginx负载均衡的算法怎么实现的?策略有哪些?

```
为了避免服务器崩溃，大家会通过负载均衡的方式来分担服务器压力。将对台服务器组成一个集群，当用户访问时，先访问到一个转发服务器，再由转发服务器将访问分发到压力更小的服务器。
  轮询(默认)
  权重 weight
  ip_hash( IP绑定)
  fair(第三方插件)
  url_hash(第三方插件)
```

### 其他

- 从用户打开浏览器输入url到页面显示出来，中间都经历了哪些过程